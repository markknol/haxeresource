<template name="sidebar">
	<div id="sidebar-wrapper">
		<h4 class="sidebar-headline">Groups</h4>
		<ul class="sidebar-groups">
			{{#each tagGroups}}
				{{> tagGroup}}
			{{/each}}
		</ul>
		<div id="sb-ungrouped">
			<a href="/tag/group/ungrouped">
				<div>
					Ungrouped 
					<span class="badge">{{countUngrouped}}</span>
				</div> <!-- double div to ignore event listeners -->
			</a>
		</div>
		
	</div>
</template>
	
<template name="tagGroup">
	<!-- collapse triggering is made via code -->
	<li class="nav-tag-group">
		<div class="group-toggler" href="#" data-trigger="collapse-{{name}}" data-toggle>
			<a href="/tag/group/{{name}}">
				<img src="{{icon}}" alt="{{name}}-logo">
				{{name}} 
				<span class="badge pull-right">{{countArticlesGroup mainTag resolvedTags}}</span>
			</a>
		</div>
	</li>
	<div id="collapse-{{name}}" class="collapse collapsed">
		<ul class="sidebar-subgroup">
			{{#each resolvedTags}}
			<li class="nav-tag"><a href="/tag/{{name}}">{{formattedName}} <span class="badge pull-right">{{countArticlesTag name}}</span></a></li>
			{{/each}}
		</ul>
	</div>
</template>