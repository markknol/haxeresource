<template name="listArticles">

	<div class="row">
		<div class="col-lg-12 ">
			<div id="la-title-row">
				<h1 class="la-title">Haxe Resource</h1> <h3 class="la-subtitle"><small>Haxe tutorials and articles.</small></h3>
			</div>
		</div>
	</div>
	
	<div class="row">
		<div class="col-lg-12">
			<table id="tableArticles" class="table table-hover" style="border-collapse:collapse">
				<caption>{{{captionMsg}}}</caption>
				<thead>
				<tr>
					<th class="text-center" style="width:10px"></th> 
					<th class="" style="">
						<a id="btnSortByTitle" href="#">TITLE 
							{{#if sortTitleUp}}
							<span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span>
							{{/if}}
							{{#if sortTitleDown}}
							<span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span>
							{{/if}}
						</a>
					</th>
					<th class="text-right" style="width:90px">
						<a id="btnSortByVotes" href="#">STARS 
							{{#if sortVotesUp}}
							<span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span>
							{{/if}}
							{{#if sortVotesDown}}
							<span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span>
							{{/if}}
						</a>
					</th>
					<th class="text-center" style="width:120px">
						<a id="btnSortByAge" href="#">AGE
							{{#if sortAgeUp}}
							<span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span>
							{{/if}}
							{{#if sortAgeDown}}
							<span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span>
							{{/if}}
						</a>
					</th>
				</tr>
				</thead>
				<tbody id="dataParent">
					{{#each articles}}
					{{> articleRow}}
					{{/each}}
				</tbody>
			</table>
			<div>
				<p id="entriesNumText"><small>Showing {{currentCount}} of {{totalCount}} results</small></p>
				<div class="text-center">
					<button id="btnLoadMoreResults" type="button" class="btn btn-primary {{#if allEntriesLoaded}}disabled{{/if}}">Load more</button>
				</div>
			</div>
		</div>
	</div>
</template>
	
<template name="articleRow">
	<tr class="articleRowHeader" style="border-top:0px;display:none">
		<td class="articleRowToggle" data-target="#articleRow{{_id}}" data-toggle="collapse"></td>
		<td class="articleRowToggle" data-target="#articleRow{{_id}}" data-toggle="collapse"><strong>{{title}}</strong></td>
		<td class="text-right">
			{{votes}} 
			<a class="articleVoteLink" href="#" data-article="{{_id}}">
				<span class="glyphicon glyphicon-star {{#if hasUserVote _id}}vote-star{{else}}novote-star{{/if}}" aria-hidden="true">
				</span>
			</a>
		</td>
		<td class="articleRowToggle text-center" data-target="#articleRow{{_id}}" data-toggle="collapse" >{{formatDate created}}</td>
	</tr>
	<tr class="articleRowBody noHover">
		<td colspan="6" class="hiddenRow" style="padding:0;border-top:0px;border-bottom:1px solid #ddd">
			<div  id="articleRow{{_id}}" class="articleRowBody collapse">
				<div style="padding:20px">
				
				<p>{{description}}</p>
				<div>
					{{#if content}}
					Author:
					{{else}}
					Submitted by:
					{{/if}}
					 <a href="#">{{username}}</a>
				</div>
				<div>
					
					{{#if link}}
					<button class="btn btn-warning" onClick="window.open('{{formatLink link}}')">
						External Link
					</button>
					{{/if}}
					
					<div>
						{{#if content}}
						<button class="btn btn-info" onclick="FlowRouter.go('/view/{{_id}}/{{formatUrlName title}}')" style="display:inline">
							Read Here
						</button>
						{{/if}}
						
						{{#if canEditArticle this}}
							<button type="button" class="btn btn-success" onClick="FlowRouter.go('/edit/{{_id}}/{{formatUrlName title}}')" style="display:inline">
								Edit
							</button>
						{{/if}}
						
						{{#if canRemoveArticle this}}
							<button id="la-btnRemoveArticle" type="button" class="btn btn-danger" data-article="{{_id}}" style="display:inline">
								Remove
							</button>
						{{/if}}
					</div>
					
					<p>
					Tags: 
					{{#each tags}}
					<a href="/tag/{{this}}">{{this}} </a> 
					{{/each}}
					</p>
				</div>
				</div> 
			</div> 
		</td>
	</tr>
</template>